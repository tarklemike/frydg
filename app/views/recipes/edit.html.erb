<div class="tophalf-new d-flex flex-column">
  <div data-controller="edit">
      <%= simple_form_for @recipe, html: {data: {controller: "ingredients"}} do |form| %>
      <%= form.input :title, placeholder: "What is your recipe called?", required: true %> <br>
      <%= form.input :description, placeholder: "Please write a description", required: true %> <br>

      <ul data-ingredients-target="ingredientsWrapper">
        <template data-ingredients-target="template">
          <%=  form.simple_fields_for :recipe_ingredients do |ingredient_form| %>
          <li data-ingredients-target="ingredient" data-id="<%= ingredient_form.options[:child_index] %>">
              <%= ingredient_form.association :ingredient, as: :select, collection: Ingredient.all, input_html: {data: {controller: "tom-select", action: "change->edit_recipe#edit"}} %>

          </li>
        <% end %>
       </template>
      </ul>

        <%= form.input :method, placeholder: "How do you make this recipe?", required: true %>

         <%= form.input :photo, as: :file %>

        <%= form.label :prep_time, "Prep Time:", required: true %>
       <%= form.collection_select :prep_time, (0..120).step(5), :to_s, :to_s, { prompt: "Select Minutes" } %>
        <%= form.label :cook_time, "Cook Time:", required: true %>
       <%= form.collection_select :cook_time, (0..120).step(5), :to_s, :to_s, { prompt: "Select Minutes" } %>
      <div>
        <%= form.label :level, "Level:", required: true %>
        <%= form.select :level, [['Easy', 'easy'], ['Medium', 'medium'], ['Hard', 'hard']], {}, { class: 'form-control' } %>
      </div>
       <div>

         <%= form.input :servings, placeholder: "Per person", required: true %>

        </div>


    <%= form.submit %>
    <% end %>

  </div>
</div>
